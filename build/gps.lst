ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"gps.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.grab_fields.constprop.0,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	grab_fields.constprop.0:
  25              	.LVL0:
  26              	.LFB531:
  27              		.file 1 "Src/gps.c"
   1:Src/gps.c     **** #include "gps.h"
   2:Src/gps.c     **** 
   3:Src/gps.c     **** #include <stdbool.h>
   4:Src/gps.c     **** #include <stdint.h>
   5:Src/gps.c     **** #include <ctype.h>
   6:Src/gps.c     **** #include <string.h>
   7:Src/gps.c     **** #include <math.h>
   8:Src/gps.c     **** 
   9:Src/gps.c     **** #define GPS_SV_MAXSATS   16
  10:Src/gps.c     **** 
  11:Src/gps.c     **** extern uint8_t gpschar;
  12:Src/gps.c     **** extern uint32_t time;
  13:Src/gps.c     **** 
  14:Src/gps.c     **** bool GPS_FIX;
  15:Src/gps.c     **** 
  16:Src/gps.c     **** 
  17:Src/gps.c     **** gpsSolutionData_t gpsSol;
  18:Src/gps.c     **** uint32_t GPS_packetCount = 0;
  19:Src/gps.c     **** uint32_t GPS_svInfoReceivedCount = 0; // SV = Space Vehicle, counter increments each time SV info i
  20:Src/gps.c     **** uint8_t GPS_update = 0;             // toogle to distinct a GPS position update (directly or via MS
  21:Src/gps.c     **** 
  22:Src/gps.c     **** uint8_t GPS_numCh;                          // Number of channels
  23:Src/gps.c     **** uint8_t GPS_svinfo_chn[GPS_SV_MAXSATS];     // Channel number
  24:Src/gps.c     **** uint8_t GPS_svinfo_svid[GPS_SV_MAXSATS];    // Satellite ID
  25:Src/gps.c     **** uint8_t GPS_svinfo_quality[GPS_SV_MAXSATS]; // Bitfield Qualtity
  26:Src/gps.c     **** uint8_t GPS_svinfo_cno[GPS_SV_MAXSATS];     // Carrier to Noise Ratio (Signal Strength)
  27:Src/gps.c     **** 
  28:Src/gps.c     **** static bool gpsNewFrameNMEA(char c);
  29:Src/gps.c     **** 
  30:Src/gps.c     **** void gpsUpdate()
  31:Src/gps.c     **** {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 2


  32:Src/gps.c     ****     gpsNewFrameNMEA(gpschar);
  33:Src/gps.c     **** }
  34:Src/gps.c     **** 
  35:Src/gps.c     **** #define NO_FRAME   0
  36:Src/gps.c     **** #define FRAME_GGA  1
  37:Src/gps.c     **** #define FRAME_RMC  2
  38:Src/gps.c     **** #define FRAME_GSV  3
  39:Src/gps.c     **** 
  40:Src/gps.c     **** // helper functions
  41:Src/gps.c     **** static uint32_t grab_fields(char *src, uint8_t mult)
  28              		.loc 1 41 17 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  42:Src/gps.c     **** {                               // convert string to uint32
  43:Src/gps.c     ****     uint32_t i;
  44:Src/gps.c     ****     uint32_t tmp = 0;
  45:Src/gps.c     ****     int isneg = 0;
  46:Src/gps.c     ****     for (i = 0; src[i] != 0; i++) {
  33              		.loc 1 46 20 is_stmt 0 view .LVU1
  34 0000 1949     		ldr	r1, .L25
  35 0002 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
  36              		.loc 1 46 5 view .LVU2
  37 0004 6AB3     		cbz	r2, .L23
  41:Src/gps.c     **** {                               // convert string to uint32
  38              		.loc 1 41 17 view .LVU3
  39 0006 F0B4     		push	{r4, r5, r6, r7}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 16
  42              		.cfi_offset 4, -16
  43              		.cfi_offset 5, -12
  44              		.cfi_offset 6, -8
  45              		.cfi_offset 7, -4
  45:Src/gps.c     ****     for (i = 0; src[i] != 0; i++) {
  46              		.loc 1 45 9 view .LVU4
  47 0008 0026     		movs	r6, #0
  48 000a 0546     		mov	r5, r0
  49              		.loc 1 46 12 view .LVU5
  50 000c 3346     		mov	r3, r6
  44:Src/gps.c     ****     int isneg = 0;
  51              		.loc 1 44 14 view .LVU6
  52 000e 3046     		mov	r0, r6
  53              	.LVL1:
  47:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
  48:Src/gps.c     ****             isneg = 1;
  49:Src/gps.c     ****             continue; // jump to next character if the first one was a negative sign
  50:Src/gps.c     ****         }
  51:Src/gps.c     ****         if (src[i] == '.') {
  52:Src/gps.c     ****             i++;
  53:Src/gps.c     ****             if (mult == 0) {
  54:Src/gps.c     ****                 break;
  55:Src/gps.c     ****             } else {
  56:Src/gps.c     ****                 src[i + mult] = 0;
  54              		.loc 1 56 31 view .LVU7
  55 0010 3746     		mov	r7, r6
  56              	.LVL2:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 3


  57              	.L2:
  47:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
  58              		.loc 1 47 9 is_stmt 1 view .LVU8
  47:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
  59              		.loc 1 47 12 is_stmt 0 view .LVU9
  60 0012 13B9     		cbnz	r3, .L4
  61              	.LVL3:
  47:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
  62              		.loc 1 47 22 view .LVU10
  63 0014 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  64 0016 2D2C     		cmp	r4, #45
  65 0018 1DD0     		beq	.L11
  66              	.LVL4:
  67              	.L4:
  51:Src/gps.c     ****             i++;
  68              		.loc 1 51 9 is_stmt 1 view .LVU11
  51:Src/gps.c     ****             i++;
  69              		.loc 1 51 12 is_stmt 0 view .LVU12
  70 001a 2E2A     		cmp	r2, #46
  71 001c 15D0     		beq	.L24
  72              	.L6:
  73              	.LVL5:
  57:Src/gps.c     ****             }
  58:Src/gps.c     ****         }
  59:Src/gps.c     ****         tmp *= 10;
  74              		.loc 1 59 9 is_stmt 1 view .LVU13
  60:Src/gps.c     ****         if (src[i] >= '0' && src[i] <= '9') {
  75              		.loc 1 60 16 is_stmt 0 view .LVU14
  76 001e CC5C     		ldrb	r4, [r1, r3]	@ zero_extendqisi2
  59:Src/gps.c     ****         if (src[i] >= '0' && src[i] <= '9') {
  77              		.loc 1 59 13 view .LVU15
  78 0020 00EB8000 		add	r0, r0, r0, lsl #2
  79              	.LVL6:
  80              		.loc 1 60 12 view .LVU16
  81 0024 A4F13002 		sub	r2, r4, #48
  82 0028 092A     		cmp	r2, #9
  59:Src/gps.c     ****         if (src[i] >= '0' && src[i] <= '9') {
  83              		.loc 1 59 13 view .LVU17
  84 002a 4FEA4000 		lsl	r0, r0, #1
  85              	.LVL7:
  86              		.loc 1 60 9 is_stmt 1 view .LVU18
  61:Src/gps.c     ****             tmp += src[i] - '0';
  87              		.loc 1 61 13 view .LVU19
  88 002e 9CBF     		itt	ls
  89 0030 A0F13002 		subls	r2, r0, #48
  90              		.loc 1 61 17 is_stmt 0 view .LVU20
  91 0034 A018     		addls	r0, r4, r2
  92              	.LVL8:
  62:Src/gps.c     ****         }
  63:Src/gps.c     ****         if (i >= 15) {
  93              		.loc 1 63 9 is_stmt 1 view .LVU21
  94              		.loc 1 63 12 is_stmt 0 view .LVU22
  95 0036 0E2B     		cmp	r3, #14
  96 0038 10D8     		bhi	.L9
  97 003a 0133     		adds	r3, r3, #1
  98              	.LVL9:
  99              	.L5:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 4


  46:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
 100              		.loc 1 46 20 view .LVU23
 101 003c CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
  46:Src/gps.c     ****         if ((i == 0) && (src[0] == '-')) { // detect negative sign
 102              		.loc 1 46 5 view .LVU24
 103 003e 002A     		cmp	r2, #0
 104 0040 E7D1     		bne	.L2
 105              	.L7:
  64:Src/gps.c     ****             return 0; // out of bounds
  65:Src/gps.c     ****         }
  66:Src/gps.c     ****     }
  67:Src/gps.c     ****     return isneg ? -tmp : tmp;    // handle negative altitudes
 106              		.loc 1 67 5 is_stmt 1 view .LVU25
 107              		.loc 1 67 25 is_stmt 0 view .LVU26
 108 0042 06B1     		cbz	r6, .L1
 109 0044 4042     		rsbs	r0, r0, #0
 110              	.LVL10:
 111              	.L1:
  68:Src/gps.c     **** }
 112              		.loc 1 68 1 view .LVU27
 113 0046 F0BC     		pop	{r4, r5, r6, r7}
 114              	.LCFI1:
 115              		.cfi_remember_state
 116              		.cfi_restore 7
 117              		.cfi_restore 6
 118              		.cfi_restore 5
 119              		.cfi_restore 4
 120              		.cfi_def_cfa_offset 0
 121 0048 7047     		bx	lr
 122              	.LVL11:
 123              	.L24:
 124              	.LCFI2:
 125              		.cfi_restore_state
  52:Src/gps.c     ****             if (mult == 0) {
 126              		.loc 1 52 13 is_stmt 1 view .LVU28
  52:Src/gps.c     ****             if (mult == 0) {
 127              		.loc 1 52 14 is_stmt 0 view .LVU29
 128 004a 0133     		adds	r3, r3, #1
 129              	.LVL12:
  53:Src/gps.c     ****                 break;
 130              		.loc 1 53 13 is_stmt 1 view .LVU30
  53:Src/gps.c     ****                 break;
 131              		.loc 1 53 16 is_stmt 0 view .LVU31
 132 004c 002D     		cmp	r5, #0
 133 004e F8D0     		beq	.L7
  56:Src/gps.c     ****             }
 134              		.loc 1 56 17 is_stmt 1 view .LVU32
  56:Src/gps.c     ****             }
 135              		.loc 1 56 31 is_stmt 0 view .LVU33
 136 0050 CA18     		adds	r2, r1, r3
 137 0052 5755     		strb	r7, [r2, r5]
 138 0054 E3E7     		b	.L6
 139              	.LVL13:
 140              	.L11:
  47:Src/gps.c     ****             isneg = 1;
 141              		.loc 1 47 22 view .LVU34
 142 0056 0123     		movs	r3, #1
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 5


  48:Src/gps.c     ****             continue; // jump to next character if the first one was a negative sign
 143              		.loc 1 48 19 view .LVU35
 144 0058 1E46     		mov	r6, r3
 145 005a EFE7     		b	.L5
 146              	.LVL14:
 147              	.L9:
  44:Src/gps.c     ****     int isneg = 0;
 148              		.loc 1 44 14 view .LVU36
 149 005c 0020     		movs	r0, #0
 150              	.LVL15:
 151              		.loc 1 68 1 view .LVU37
 152 005e F0BC     		pop	{r4, r5, r6, r7}
 153              	.LCFI3:
 154              		.cfi_restore 7
 155              		.cfi_restore 6
 156              		.cfi_restore 5
 157              		.cfi_restore 4
 158              		.cfi_def_cfa_offset 0
 159              		.loc 1 68 1 view .LVU38
 160 0060 7047     		bx	lr
 161              	.LVL16:
 162              	.L23:
  44:Src/gps.c     ****     int isneg = 0;
 163              		.loc 1 44 14 view .LVU39
 164 0062 0020     		movs	r0, #0
 165              	.LVL17:
 166              		.loc 1 68 1 view .LVU40
 167 0064 7047     		bx	lr
 168              	.L26:
 169 0066 00BF     		.align	2
 170              	.L25:
 171 0068 00000000 		.word	.LANCHOR0
 172              		.cfi_endproc
 173              	.LFE531:
 175              		.section	.text.gpsUpdate,"ax",%progbits
 176              		.align	1
 177              		.p2align 2,,3
 178              		.global	gpsUpdate
 179              		.syntax unified
 180              		.thumb
 181              		.thumb_func
 182              		.fpu softvfp
 184              	gpsUpdate:
 185              	.LFB528:
  31:Src/gps.c     ****     gpsNewFrameNMEA(gpschar);
 186              		.loc 1 31 1 is_stmt 1 view -0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 0
 189              		@ frame_needed = 0, uses_anonymous_args = 0
  32:Src/gps.c     **** }
 190              		.loc 1 32 5 view .LVU42
  31:Src/gps.c     ****     gpsNewFrameNMEA(gpschar);
 191              		.loc 1 31 1 is_stmt 0 view .LVU43
 192 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 193              	.LCFI4:
 194              		.cfi_def_cfa_offset 32
 195              		.cfi_offset 3, -32
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 6


 196              		.cfi_offset 4, -28
 197              		.cfi_offset 5, -24
 198              		.cfi_offset 6, -20
 199              		.cfi_offset 7, -16
 200              		.cfi_offset 8, -12
 201              		.cfi_offset 9, -8
 202              		.cfi_offset 14, -4
  32:Src/gps.c     **** }
 203              		.loc 1 32 5 view .LVU44
 204 0004 A14B     		ldr	r3, .L92
 205 0006 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 206              	.LVL18:
 207              	.LBB5:
 208              	.LBI5:
  69:Src/gps.c     **** 
  70:Src/gps.c     **** extern uint32_t h, m, s;
  71:Src/gps.c     **** 
  72:Src/gps.c     **** typedef struct gpsDataNmea_s {
  73:Src/gps.c     ****     int32_t latitude;
  74:Src/gps.c     ****     int32_t longitude;
  75:Src/gps.c     ****     uint8_t numSat;
  76:Src/gps.c     ****     int32_t altitudeCm;
  77:Src/gps.c     ****     uint16_t speed;
  78:Src/gps.c     ****     uint16_t hdop;
  79:Src/gps.c     ****     uint16_t ground_course;
  80:Src/gps.c     ****     uint32_t time;
  81:Src/gps.c     ****     uint32_t date;
  82:Src/gps.c     **** } gpsDataNmea_t;
  83:Src/gps.c     **** 
  84:Src/gps.c     **** static bool gpsNewFrameNMEA(char c)
 209              		.loc 1 84 13 is_stmt 1 view .LVU45
 210              	.LBB6:
  85:Src/gps.c     **** {
  86:Src/gps.c     ****     static gpsDataNmea_t gps_Msg;
 211              		.loc 1 86 5 view .LVU46
  87:Src/gps.c     **** 
  88:Src/gps.c     ****     uint8_t frameOK = 0;
 212              		.loc 1 88 5 view .LVU47
  89:Src/gps.c     ****     static uint8_t param = 0, offset = 0, parity = 0;
 213              		.loc 1 89 5 view .LVU48
  90:Src/gps.c     ****     static char string[15];
 214              		.loc 1 90 5 view .LVU49
  91:Src/gps.c     ****     static uint8_t checksum_param, gps_frame = NO_FRAME;
 215              		.loc 1 91 5 view .LVU50
  92:Src/gps.c     ****     static uint8_t svMessageNum = 0;
 216              		.loc 1 92 5 view .LVU51
  93:Src/gps.c     ****     uint8_t svSatNum = 0, svPacketIdx = 0, svSatParam = 0;
 217              		.loc 1 93 5 view .LVU52
  94:Src/gps.c     **** 
  95:Src/gps.c     ****     switch (c) {
 218              		.loc 1 95 5 view .LVU53
 219 0008 A4F10A03 		sub	r3, r4, #10
 220 000c 222B     		cmp	r3, #34
 221 000e 57D8     		bhi	.L28
 222 0010 DFE803F0 		tbb	[pc, r3]
 223              	.L30:
 224 0014 3B       		.byte	(.L32-.L30)/2
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 7


 225 0015 56       		.byte	(.L28-.L30)/2
 226 0016 56       		.byte	(.L28-.L30)/2
 227 0017 3B       		.byte	(.L32-.L30)/2
 228 0018 56       		.byte	(.L28-.L30)/2
 229 0019 56       		.byte	(.L28-.L30)/2
 230 001a 56       		.byte	(.L28-.L30)/2
 231 001b 56       		.byte	(.L28-.L30)/2
 232 001c 56       		.byte	(.L28-.L30)/2
 233 001d 56       		.byte	(.L28-.L30)/2
 234 001e 56       		.byte	(.L28-.L30)/2
 235 001f 56       		.byte	(.L28-.L30)/2
 236 0020 56       		.byte	(.L28-.L30)/2
 237 0021 56       		.byte	(.L28-.L30)/2
 238 0022 56       		.byte	(.L28-.L30)/2
 239 0023 56       		.byte	(.L28-.L30)/2
 240 0024 56       		.byte	(.L28-.L30)/2
 241 0025 56       		.byte	(.L28-.L30)/2
 242 0026 56       		.byte	(.L28-.L30)/2
 243 0027 56       		.byte	(.L28-.L30)/2
 244 0028 56       		.byte	(.L28-.L30)/2
 245 0029 56       		.byte	(.L28-.L30)/2
 246 002a 56       		.byte	(.L28-.L30)/2
 247 002b 56       		.byte	(.L28-.L30)/2
 248 002c 56       		.byte	(.L28-.L30)/2
 249 002d 56       		.byte	(.L28-.L30)/2
 250 002e 32       		.byte	(.L31-.L30)/2
 251 002f 56       		.byte	(.L28-.L30)/2
 252 0030 56       		.byte	(.L28-.L30)/2
 253 0031 56       		.byte	(.L28-.L30)/2
 254 0032 56       		.byte	(.L28-.L30)/2
 255 0033 56       		.byte	(.L28-.L30)/2
 256 0034 12       		.byte	(.L29-.L30)/2
 257 0035 56       		.byte	(.L28-.L30)/2
 258 0036 12       		.byte	(.L29-.L30)/2
 259 0037 00       		.p2align 1
 260              	.L29:
  96:Src/gps.c     ****         case '$':
  97:Src/gps.c     ****             param = 0;
  98:Src/gps.c     ****             offset = 0;
  99:Src/gps.c     ****             parity = 0;
 100:Src/gps.c     ****             break;
 101:Src/gps.c     ****         case ',':
 102:Src/gps.c     ****         case '*':
 103:Src/gps.c     ****             string[offset] = 0;
 261              		.loc 1 103 13 view .LVU54
 262              		.loc 1 103 28 is_stmt 0 view .LVU55
 263 0038 4FF00009 		mov	r9, #0
 264              		.loc 1 103 19 view .LVU56
 265 003c 944F     		ldr	r7, .L92+4
 104:Src/gps.c     ****             if (param == 0) {       //frame identification
 266              		.loc 1 104 23 view .LVU57
 267 003e DFF86082 		ldr	r8, .L92+20
 103:Src/gps.c     ****             if (param == 0) {       //frame identification
 268              		.loc 1 103 19 view .LVU58
 269 0042 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 103:Src/gps.c     ****             if (param == 0) {       //frame identification
 270              		.loc 1 103 28 view .LVU59
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 8


 271 0044 934E     		ldr	r6, .L92+8
 272              		.loc 1 104 23 view .LVU60
 273 0046 98F80050 		ldrb	r5, [r8]	@ zero_extendqisi2
 103:Src/gps.c     ****             if (param == 0) {       //frame identification
 274              		.loc 1 103 28 view .LVU61
 275 004a 06F80390 		strb	r9, [r6, r3]
 276              		.loc 1 104 13 is_stmt 1 view .LVU62
 277              		.loc 1 104 16 is_stmt 0 view .LVU63
 278 004e 002D     		cmp	r5, #0
 279 0050 48D0     		beq	.L87
 105:Src/gps.c     ****                 gps_frame = NO_FRAME;
 106:Src/gps.c     ****                 if (0 == strcmp(string, "GPGGA") || 0 == strcmp(string, "GNGGA")) {
 107:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 108:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPRMC") || 0 == strcmp(string, "GNRMC")) {
 109:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 110:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPGSV")) {
 111:Src/gps.c     ****                     gps_frame = FRAME_GSV;
 112:Src/gps.c     ****                 }
 113:Src/gps.c     ****             }
 114:Src/gps.c     ****             
 115:Src/gps.c     ****             switch (gps_frame) {
 280              		.loc 1 115 13 is_stmt 1 view .LVU64
 281 0052 914B     		ldr	r3, .L92+12
 282 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 283 0056 022B     		cmp	r3, #2
 284 0058 00F09880 		beq	.L43
 285 005c 032B     		cmp	r3, #3
 286 005e 76D1     		bne	.L88
 116:Src/gps.c     ****                 case FRAME_GGA:        //************* GPGGA FRAME parsing
 117:Src/gps.c     ****                     switch (param) {
 118:Src/gps.c     ****                         //case 1:             // Time information
 119:Src/gps.c     ****                           //break;
 120:Src/gps.c     ****                         case 2:
 121:Src/gps.c     ****                             // gps_Msg.latitude = GPS_coord_to_degrees(string);
 122:Src/gps.c     ****                             break;
 123:Src/gps.c     ****                         case 3:
 124:Src/gps.c     ****                             if (string[0] == 'S')
 125:Src/gps.c     ****                                 gps_Msg.latitude *= -1;
 126:Src/gps.c     ****                             break;
 127:Src/gps.c     ****                         case 4:
 128:Src/gps.c     ****                             // gps_Msg.longitude = GPS_coord_to_degrees(string);
 129:Src/gps.c     ****                             break;
 130:Src/gps.c     ****                         case 5:
 131:Src/gps.c     ****                             if (string[0] == 'W')
 132:Src/gps.c     ****                                 gps_Msg.longitude *= -1;
 133:Src/gps.c     ****                             break;
 134:Src/gps.c     ****                         case 6:
 135:Src/gps.c     ****                             if (string[0] > '0') {
 136:Src/gps.c     ****                                 GPS_FIX = 1;
 137:Src/gps.c     ****                             } else {
 138:Src/gps.c     ****                                 GPS_FIX = 0;
 139:Src/gps.c     ****                             }
 140:Src/gps.c     ****                             break;
 141:Src/gps.c     ****                         case 7:
 142:Src/gps.c     ****                             gps_Msg.numSat = grab_fields(string, 0);
 143:Src/gps.c     ****                             break;
 144:Src/gps.c     ****                         case 8:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 9


 145:Src/gps.c     ****                             gps_Msg.hdop = grab_fields(string, 1) * 100;          // hdop
 146:Src/gps.c     ****                             break;
 147:Src/gps.c     ****                         case 9:
 148:Src/gps.c     ****                             gps_Msg.altitudeCm = grab_fields(string, 1) * 10;     // altitude in ce
 149:Src/gps.c     ****                             break;
 150:Src/gps.c     ****                     }
 151:Src/gps.c     ****                     break;
 152:Src/gps.c     ****                 case FRAME_RMC:        //************* GPRMC FRAME parsing
 153:Src/gps.c     ****                     switch (param) {
 154:Src/gps.c     ****                         case 1:
 155:Src/gps.c     ****                             gps_Msg.time = grab_fields(string, 2); // UTC time hhmmss.ss
 156:Src/gps.c     ****                             time = grab_fields(string, 2);
 157:Src/gps.c     ****                             break;
 158:Src/gps.c     ****                         case 7:
 159:Src/gps.c     ****                             gps_Msg.speed = ((grab_fields(string, 1) * 5144L) / 1000L);    // speed
 160:Src/gps.c     ****                             break;
 161:Src/gps.c     ****                         case 8:
 162:Src/gps.c     ****                             gps_Msg.ground_course = (grab_fields(string, 1));      // ground course
 163:Src/gps.c     ****                             break;
 164:Src/gps.c     ****                         case 9:
 165:Src/gps.c     ****                             gps_Msg.date = grab_fields(string, 0); // date dd/mm/yy
 166:Src/gps.c     ****                             break;
 167:Src/gps.c     ****                     }
 168:Src/gps.c     ****                     break;
 169:Src/gps.c     ****                 case FRAME_GSV:
 170:Src/gps.c     ****                     switch (param) {
 287              		.loc 1 170 21 view .LVU65
 288 0060 022D     		cmp	r5, #2
 289 0062 00F0E280 		beq	.L59
 290 0066 032D     		cmp	r5, #3
 291 0068 40F0BB80 		bne	.L89
 171:Src/gps.c     ****                       /*case 1:
 172:Src/gps.c     ****                             // Total number of messages of this type in this cycle
 173:Src/gps.c     ****                             break; */
 174:Src/gps.c     ****                         case 2:
 175:Src/gps.c     ****                             svMessageNum = grab_fields(string, 0); // Message number
 176:Src/gps.c     ****                             break;
 177:Src/gps.c     ****                         case 3:
 178:Src/gps.c     ****                             GPS_numCh = grab_fields(string, 0); // Total number of SVs visible
 292              		.loc 1 178 29 view .LVU66
 293              		.loc 1 178 41 is_stmt 0 view .LVU67
 294 006c 4846     		mov	r0, r9
 295 006e FFF7FEFF 		bl	grab_fields.constprop.0
 296              	.LVL19:
 297              		.loc 1 178 39 view .LVU68
 298 0072 8A4B     		ldr	r3, .L92+16
 299 0074 1870     		strb	r0, [r3]
 179:Src/gps.c     ****                             break;
 300              		.loc 1 179 29 is_stmt 1 view .LVU69
 301 0076 5DE0     		b	.L41
 302              	.L31:
  97:Src/gps.c     ****             offset = 0;
 303              		.loc 1 97 13 view .LVU70
  97:Src/gps.c     ****             offset = 0;
 304              		.loc 1 97 19 is_stmt 0 view .LVU71
 305 0078 0023     		movs	r3, #0
 306 007a 8948     		ldr	r0, .L92+20
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 10


  98:Src/gps.c     ****             parity = 0;
 307              		.loc 1 98 20 view .LVU72
 308 007c 8449     		ldr	r1, .L92+4
  99:Src/gps.c     ****             break;
 309              		.loc 1 99 20 view .LVU73
 310 007e 894A     		ldr	r2, .L92+24
  97:Src/gps.c     ****             offset = 0;
 311              		.loc 1 97 19 view .LVU74
 312 0080 0370     		strb	r3, [r0]
  98:Src/gps.c     ****             parity = 0;
 313              		.loc 1 98 13 is_stmt 1 view .LVU75
  98:Src/gps.c     ****             parity = 0;
 314              		.loc 1 98 20 is_stmt 0 view .LVU76
 315 0082 0B70     		strb	r3, [r1]
  99:Src/gps.c     ****             break;
 316              		.loc 1 99 13 is_stmt 1 view .LVU77
  99:Src/gps.c     ****             break;
 317              		.loc 1 99 20 is_stmt 0 view .LVU78
 318 0084 1370     		strb	r3, [r2]
 100:Src/gps.c     ****         case ',':
 319              		.loc 1 100 13 is_stmt 1 view .LVU79
 320              	.LVL20:
 321              	.L27:
 100:Src/gps.c     ****         case ',':
 322              		.loc 1 100 13 is_stmt 0 view .LVU80
 323              	.LBE6:
 324              	.LBE5:
  33:Src/gps.c     **** 
 325              		.loc 1 33 1 view .LVU81
 326 0086 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 327              	.LVL21:
 328              	.L32:
 329              	.LBB15:
 330              	.LBB11:
 180:Src/gps.c     ****                     }
 181:Src/gps.c     ****                     if (param < 4)
 182:Src/gps.c     ****                         break;
 183:Src/gps.c     **** 
 184:Src/gps.c     ****                     svPacketIdx = (param - 4) / 4 + 1; // satellite number in packet, 1-4
 185:Src/gps.c     ****                     svSatNum    = svPacketIdx + (4 * (svMessageNum - 1)); // global satellite numbe
 186:Src/gps.c     ****                     svSatParam  = param - 3 - (4 * (svPacketIdx - 1)); // parameter number for sate
 187:Src/gps.c     **** 
 188:Src/gps.c     ****                     if (svSatNum > GPS_SV_MAXSATS)
 189:Src/gps.c     ****                         break;
 190:Src/gps.c     **** 
 191:Src/gps.c     ****                     switch (svSatParam) {
 192:Src/gps.c     ****                         case 1:
 193:Src/gps.c     ****                             // SV PRN number
 194:Src/gps.c     ****                             GPS_svinfo_chn[svSatNum - 1]  = svSatNum;
 195:Src/gps.c     ****                             GPS_svinfo_svid[svSatNum - 1] = grab_fields(string, 0);
 196:Src/gps.c     ****                             break;
 197:Src/gps.c     ****                         // case 2:
 198:Src/gps.c     ****                         //     // Elevation, in degrees, 90 maximum
 199:Src/gps.c     ****                         //     break;
 200:Src/gps.c     ****                         // case 3:
 201:Src/gps.c     ****                         //     // Azimuth, degrees from True North, 000 through 359
 202:Src/gps.c     ****                         //     break;
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 11


 203:Src/gps.c     ****                         case 4:
 204:Src/gps.c     ****                             // SNR, 00 through 99 dB (null when not tracking)
 205:Src/gps.c     ****                             GPS_svinfo_cno[svSatNum - 1] = grab_fields(string, 0);
 206:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 207:Src/gps.c     ****                             break;
 208:Src/gps.c     ****                     }
 209:Src/gps.c     **** 
 210:Src/gps.c     ****                     GPS_svInfoReceivedCount++;
 211:Src/gps.c     **** 
 212:Src/gps.c     ****                     break;
 213:Src/gps.c     ****             }
 214:Src/gps.c     **** 
 215:Src/gps.c     ****             param++;
 216:Src/gps.c     ****             offset = 0;
 217:Src/gps.c     ****             if (c == '*')
 218:Src/gps.c     ****                 checksum_param = 1;
 219:Src/gps.c     ****             else
 220:Src/gps.c     ****                 parity ^= c;
 221:Src/gps.c     ****             break;
 222:Src/gps.c     ****         case '\r':
 223:Src/gps.c     ****         case '\n':
 224:Src/gps.c     ****             if (checksum_param) {   //parity checksum
 331              		.loc 1 224 13 is_stmt 1 view .LVU82
 332              		.loc 1 224 17 is_stmt 0 view .LVU83
 333 008a 8749     		ldr	r1, .L92+28
 334              		.loc 1 224 16 view .LVU84
 335 008c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 336 008e 9BB1     		cbz	r3, .L67
 337              	.LBB7:
 225:Src/gps.c     ****                 uint8_t checksum = 16 * ((string[0] >= 'A') ? string[0] - 'A' + 10 : string[0] - '0
 338              		.loc 1 225 17 is_stmt 1 view .LVU85
 339              		.loc 1 225 49 is_stmt 0 view .LVU86
 340 0090 804E     		ldr	r6, .L92+8
 341 0092 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 342              		.loc 1 225 103 view .LVU87
 343 0094 402B     		cmp	r3, #64
 344 0096 75D9     		bls	.L68
 345 0098 373B     		subs	r3, r3, #55
 346 009a 1B01     		lsls	r3, r3, #4
 347 009c DBB2     		uxtb	r3, r3
 348              	.L69:
 349              		.loc 1 225 113 view .LVU88
 350 009e 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
 226:Src/gps.c     ****                 if (checksum == parity) {
 351              		.loc 1 226 30 view .LVU89
 352 00a0 8048     		ldr	r0, .L92+24
 225:Src/gps.c     ****                 uint8_t checksum = 16 * ((string[0] >= 'A') ? string[0] - 'A' + 10 : string[0] - '0
 353              		.loc 1 225 103 view .LVU90
 354 00a2 402A     		cmp	r2, #64
 355 00a4 8CBF     		ite	hi
 356 00a6 373A     		subhi	r2, r2, #55
 357 00a8 303A     		subls	r2, r2, #48
 358 00aa D2B2     		uxtb	r2, r2
 359              	.LVL22:
 360              		.loc 1 226 17 is_stmt 1 view .LVU91
 225:Src/gps.c     ****                 uint8_t checksum = 16 * ((string[0] >= 'A') ? string[0] - 'A' + 10 : string[0] - '0
 361              		.loc 1 225 25 is_stmt 0 view .LVU92
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 12


 362 00ac 1344     		add	r3, r3, r2
 363              	.LVL23:
 364              		.loc 1 226 20 view .LVU93
 365 00ae 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 366 00b0 DBB2     		uxtb	r3, r3
 367 00b2 9A42     		cmp	r2, r3
 368 00b4 00F08280 		beq	.L90
 369              	.LVL24:
 370              	.L67:
 227:Src/gps.c     ****                     GPS_packetCount++;
 228:Src/gps.c     ****                     switch (gps_frame) {
 229:Src/gps.c     ****                     case FRAME_GGA:
 230:Src/gps.c     ****                       frameOK = 1;
 231:Src/gps.c     ****                       if (GPS_FIX == 1) {
 232:Src/gps.c     ****                             gpsSol.llh.lat = gps_Msg.latitude;
 233:Src/gps.c     ****                             gpsSol.llh.lon = gps_Msg.longitude;
 234:Src/gps.c     ****                             gpsSol.numSat = gps_Msg.numSat;
 235:Src/gps.c     ****                             gpsSol.llh.altCm = gps_Msg.altitudeCm;
 236:Src/gps.c     ****                             gpsSol.hdop = gps_Msg.hdop;
 237:Src/gps.c     ****                         }
 238:Src/gps.c     ****                         break;
 239:Src/gps.c     ****                     case FRAME_RMC:
 240:Src/gps.c     ****                         gpsSol.groundSpeed = gps_Msg.speed;
 241:Src/gps.c     ****                         gpsSol.groundCourse = gps_Msg.ground_course;
 242:Src/gps.c     ****                         break;
 243:Src/gps.c     ****                     } // end switch
 244:Src/gps.c     ****                 } else {
 245:Src/gps.c     ****                 }
 371              		.loc 1 245 17 is_stmt 1 view .LVU94
 372              	.LBE7:
 246:Src/gps.c     ****             }
 247:Src/gps.c     ****             checksum_param = 0;
 373              		.loc 1 247 13 view .LVU95
 374              		.loc 1 247 28 is_stmt 0 view .LVU96
 375 00b8 0023     		movs	r3, #0
 376 00ba 0B70     		strb	r3, [r1]
 248:Src/gps.c     ****             break;
 377              		.loc 1 248 13 is_stmt 1 view .LVU97
 378              	.LBE11:
 379              	.LBE15:
  33:Src/gps.c     **** 
 380              		.loc 1 33 1 is_stmt 0 view .LVU98
 381 00bc BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 382              	.LVL25:
 383              	.L28:
 384              	.LBB16:
 385              	.LBB12:
 249:Src/gps.c     ****         default:
 250:Src/gps.c     ****             if (offset < 15)
 386              		.loc 1 250 13 is_stmt 1 view .LVU99
 387              		.loc 1 250 24 is_stmt 0 view .LVU100
 388 00c0 734A     		ldr	r2, .L92+4
 389 00c2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 390              		.loc 1 250 16 view .LVU101
 391 00c4 0E2B     		cmp	r3, #14
 392 00c6 03D8     		bhi	.L75
 251:Src/gps.c     ****                 string[offset++] = c;
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 13


 393              		.loc 1 251 17 is_stmt 1 view .LVU102
 394              		.loc 1 251 34 is_stmt 0 view .LVU103
 395 00c8 7248     		ldr	r0, .L92+8
 396              		.loc 1 251 30 view .LVU104
 397 00ca 591C     		adds	r1, r3, #1
 398              		.loc 1 251 34 view .LVU105
 399 00cc C454     		strb	r4, [r0, r3]
 400              		.loc 1 251 30 view .LVU106
 401 00ce 1170     		strb	r1, [r2]
 402              	.L75:
 252:Src/gps.c     ****             if (!checksum_param)
 403              		.loc 1 252 13 is_stmt 1 view .LVU107
 404              		.loc 1 252 17 is_stmt 0 view .LVU108
 405 00d0 754B     		ldr	r3, .L92+28
 406              		.loc 1 252 16 view .LVU109
 407 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 408 00d4 002B     		cmp	r3, #0
 409 00d6 D6D1     		bne	.L27
 253:Src/gps.c     ****                 parity ^= c;
 410              		.loc 1 253 17 is_stmt 1 view .LVU110
 411              		.loc 1 253 24 is_stmt 0 view .LVU111
 412 00d8 724B     		ldr	r3, .L92+24
 413 00da 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 414 00dc 5440     		eors	r4, r4, r2
 415              	.LVL26:
 416              		.loc 1 253 24 view .LVU112
 417 00de 1C70     		strb	r4, [r3]
 418              	.LVL27:
 254:Src/gps.c     ****     }
 255:Src/gps.c     ****     return frameOK;
 419              		.loc 1 255 5 is_stmt 1 view .LVU113
 420              		.loc 1 255 5 is_stmt 0 view .LVU114
 421              	.LBE12:
 422              	.LBE16:
  33:Src/gps.c     **** 
 423              		.loc 1 33 1 view .LVU115
 424 00e0 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 425              	.LVL28:
 426              	.L87:
 427              	.LBB17:
 428              	.LBB13:
 105:Src/gps.c     ****                 if (0 == strcmp(string, "GPGGA") || 0 == strcmp(string, "GNGGA")) {
 429              		.loc 1 105 17 is_stmt 1 view .LVU116
 105:Src/gps.c     ****                 if (0 == strcmp(string, "GPGGA") || 0 == strcmp(string, "GNGGA")) {
 430              		.loc 1 105 27 is_stmt 0 view .LVU117
 431 00e4 DFF8B091 		ldr	r9, .L92+12
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 432              		.loc 1 106 26 view .LVU118
 433 00e8 7049     		ldr	r1, .L92+32
 434 00ea 3046     		mov	r0, r6
 105:Src/gps.c     ****                 if (0 == strcmp(string, "GPGGA") || 0 == strcmp(string, "GNGGA")) {
 435              		.loc 1 105 27 view .LVU119
 436 00ec 89F80050 		strb	r5, [r9]
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 437              		.loc 1 106 17 is_stmt 1 view .LVU120
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 438              		.loc 1 106 26 is_stmt 0 view .LVU121
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 14


 439 00f0 FFF7FEFF 		bl	strcmp
 440              	.LVL29:
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 441              		.loc 1 106 20 view .LVU122
 442 00f4 D8B1     		cbz	r0, .L35
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 443              		.loc 1 106 58 view .LVU123
 444 00f6 6E49     		ldr	r1, .L92+36
 445 00f8 3046     		mov	r0, r6
 446 00fa FFF7FEFF 		bl	strcmp
 447              	.LVL30:
 106:Src/gps.c     ****                     gps_frame = FRAME_GGA;
 448              		.loc 1 106 50 view .LVU124
 449 00fe B0B1     		cbz	r0, .L35
 108:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 450              		.loc 1 108 24 is_stmt 1 view .LVU125
 108:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 451              		.loc 1 108 33 is_stmt 0 view .LVU126
 452 0100 6C49     		ldr	r1, .L92+40
 453 0102 3046     		mov	r0, r6
 454 0104 FFF7FEFF 		bl	strcmp
 455              	.LVL31:
 108:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 456              		.loc 1 108 27 view .LVU127
 457 0108 0028     		cmp	r0, #0
 458 010a 00F01981 		beq	.L38
 108:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 459              		.loc 1 108 65 view .LVU128
 460 010e 6A49     		ldr	r1, .L92+44
 461 0110 3046     		mov	r0, r6
 462 0112 FFF7FEFF 		bl	strcmp
 463              	.LVL32:
 108:Src/gps.c     ****                     gps_frame = FRAME_RMC;
 464              		.loc 1 108 57 view .LVU129
 465 0116 0028     		cmp	r0, #0
 466 0118 00F01281 		beq	.L38
 110:Src/gps.c     ****                     gps_frame = FRAME_GSV;
 467              		.loc 1 110 24 is_stmt 1 view .LVU130
 110:Src/gps.c     ****                     gps_frame = FRAME_GSV;
 468              		.loc 1 110 33 is_stmt 0 view .LVU131
 469 011c 3046     		mov	r0, r6
 470 011e 6749     		ldr	r1, .L92+48
 471 0120 FFF7FEFF 		bl	strcmp
 472              	.LVL33:
 110:Src/gps.c     ****                     gps_frame = FRAME_GSV;
 473              		.loc 1 110 27 view .LVU132
 474 0124 30B9     		cbnz	r0, .L41
 111:Src/gps.c     ****                 }
 475              		.loc 1 111 21 is_stmt 1 view .LVU133
 111:Src/gps.c     ****                 }
 476              		.loc 1 111 31 is_stmt 0 view .LVU134
 477 0126 0323     		movs	r3, #3
 478 0128 89F80030 		strb	r3, [r9]
 115:Src/gps.c     ****                 case FRAME_GGA:        //************* GPGGA FRAME parsing
 479              		.loc 1 115 13 is_stmt 1 view .LVU135
 170:Src/gps.c     ****                       /*case 1:
 480              		.loc 1 170 21 view .LVU136
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 15


 181:Src/gps.c     ****                         break;
 481              		.loc 1 181 21 view .LVU137
 482 012c 02E0     		b	.L41
 483              	.L35:
 107:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPRMC") || 0 == strcmp(string, "GNRMC")) {
 484              		.loc 1 107 21 view .LVU138
 107:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPRMC") || 0 == strcmp(string, "GNRMC")) {
 485              		.loc 1 107 31 is_stmt 0 view .LVU139
 486 012e 0123     		movs	r3, #1
 487 0130 89F80030 		strb	r3, [r9]
 115:Src/gps.c     ****                 case FRAME_GGA:        //************* GPGGA FRAME parsing
 488              		.loc 1 115 13 is_stmt 1 view .LVU140
 117:Src/gps.c     ****                         //case 1:             // Time information
 489              		.loc 1 117 21 view .LVU141
 490              	.LVL34:
 491              	.L41:
 215:Src/gps.c     ****             offset = 0;
 492              		.loc 1 215 13 view .LVU142
 216:Src/gps.c     ****             if (c == '*')
 493              		.loc 1 216 20 is_stmt 0 view .LVU143
 494 0134 0023     		movs	r3, #0
 215:Src/gps.c     ****             offset = 0;
 495              		.loc 1 215 18 view .LVU144
 496 0136 0135     		adds	r5, r5, #1
 217:Src/gps.c     ****                 checksum_param = 1;
 497              		.loc 1 217 16 view .LVU145
 498 0138 2A2C     		cmp	r4, #42
 215:Src/gps.c     ****             offset = 0;
 499              		.loc 1 215 18 view .LVU146
 500 013a 88F80050 		strb	r5, [r8]
 216:Src/gps.c     ****             if (c == '*')
 501              		.loc 1 216 13 is_stmt 1 view .LVU147
 216:Src/gps.c     ****             if (c == '*')
 502              		.loc 1 216 20 is_stmt 0 view .LVU148
 503 013e 3B70     		strb	r3, [r7]
 217:Src/gps.c     ****                 checksum_param = 1;
 504              		.loc 1 217 13 is_stmt 1 view .LVU149
 217:Src/gps.c     ****                 checksum_param = 1;
 505              		.loc 1 217 16 is_stmt 0 view .LVU150
 506 0140 1CD0     		beq	.L91
 220:Src/gps.c     ****             break;
 507              		.loc 1 220 17 is_stmt 1 view .LVU151
 220:Src/gps.c     ****             break;
 508              		.loc 1 220 24 is_stmt 0 view .LVU152
 509 0142 584A     		ldr	r2, .L92+24
 510 0144 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 511 0146 5C40     		eors	r4, r4, r3
 512              	.LVL35:
 220:Src/gps.c     ****             break;
 513              		.loc 1 220 24 view .LVU153
 514 0148 1470     		strb	r4, [r2]
 515              	.LBE13:
 516              	.LBE17:
  33:Src/gps.c     **** 
 517              		.loc 1 33 1 view .LVU154
 518 014a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 519              	.LVL36:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 16


 520              	.L88:
 521              	.LBB18:
 522              	.LBB14:
  33:Src/gps.c     **** 
 523              		.loc 1 33 1 view .LVU155
 524 014e 012B     		cmp	r3, #1
 525 0150 F0D1     		bne	.L41
 117:Src/gps.c     ****                         //case 1:             // Time information
 526              		.loc 1 117 21 is_stmt 1 view .LVU156
 527 0152 EB1E     		subs	r3, r5, #3
 528 0154 062B     		cmp	r3, #6
 529 0156 EDD8     		bhi	.L41
 530 0158 01A2     		adr	r2, .L47
 531 015a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 532 015e 00BF     		.p2align 2
 533              	.L47:
 534 0160 1D030000 		.word	.L52+1
 535 0164 35010000 		.word	.L41+1
 536 0168 F5020000 		.word	.L51+1
 537 016c E5020000 		.word	.L50+1
 538 0170 81020000 		.word	.L49+1
 539 0174 07030000 		.word	.L48+1
 540 0178 2F030000 		.word	.L46+1
 541              	.LVL37:
 542              		.p2align 1
 543              	.L91:
 218:Src/gps.c     ****             else
 544              		.loc 1 218 17 view .LVU157
 218:Src/gps.c     ****             else
 545              		.loc 1 218 32 is_stmt 0 view .LVU158
 546 017c 0122     		movs	r2, #1
 547 017e 4A4B     		ldr	r3, .L92+28
 548 0180 1A70     		strb	r2, [r3]
 549 0182 80E7     		b	.L27
 550              	.LVL38:
 551              	.L68:
 552              	.LBB8:
 225:Src/gps.c     ****                 if (checksum == parity) {
 553              		.loc 1 225 103 view .LVU159
 554 0184 1B01     		lsls	r3, r3, #4
 555 0186 03F0F003 		and	r3, r3, #240
 556 018a 88E7     		b	.L69
 557              	.L43:
 558              	.LBE8:
 153:Src/gps.c     ****                         case 1:
 559              		.loc 1 153 21 is_stmt 1 view .LVU160
 560 018c 6B1E     		subs	r3, r5, #1
 561 018e 082B     		cmp	r3, #8
 562 0190 D0D8     		bhi	.L41
 563 0192 01A2     		adr	r2, .L55
 564 0194 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 565              		.p2align 2
 566              	.L55:
 567 0198 6B020000 		.word	.L58+1
 568 019c 35010000 		.word	.L41+1
 569 01a0 35010000 		.word	.L41+1
 570 01a4 35010000 		.word	.L41+1
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 17


 571 01a8 35010000 		.word	.L41+1
 572 01ac 35010000 		.word	.L41+1
 573 01b0 4F020000 		.word	.L57+1
 574 01b4 43020000 		.word	.L56+1
 575 01b8 37020000 		.word	.L54+1
 576              		.p2align 1
 577              	.L90:
 578              	.LBB9:
 227:Src/gps.c     ****                     switch (gps_frame) {
 579              		.loc 1 227 21 view .LVU161
 227:Src/gps.c     ****                     switch (gps_frame) {
 580              		.loc 1 227 36 is_stmt 0 view .LVU162
 581 01bc 4048     		ldr	r0, .L92+52
 228:Src/gps.c     ****                     case FRAME_GGA:
 582              		.loc 1 228 21 view .LVU163
 583 01be 364A     		ldr	r2, .L92+12
 227:Src/gps.c     ****                     switch (gps_frame) {
 584              		.loc 1 227 36 view .LVU164
 585 01c0 0368     		ldr	r3, [r0]
 228:Src/gps.c     ****                     case FRAME_GGA:
 586              		.loc 1 228 21 view .LVU165
 587 01c2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 227:Src/gps.c     ****                     switch (gps_frame) {
 588              		.loc 1 227 36 view .LVU166
 589 01c4 0133     		adds	r3, r3, #1
 590 01c6 012A     		cmp	r2, #1
 591 01c8 0360     		str	r3, [r0]
 228:Src/gps.c     ****                     case FRAME_GGA:
 592              		.loc 1 228 21 is_stmt 1 view .LVU167
 593 01ca 00F0BD80 		beq	.L73
 594 01ce 022A     		cmp	r2, #2
 595 01d0 7FF472AF 		bne	.L67
 240:Src/gps.c     ****                         gpsSol.groundCourse = gps_Msg.ground_course;
 596              		.loc 1 240 25 view .LVU168
 240:Src/gps.c     ****                         gpsSol.groundCourse = gps_Msg.ground_course;
 597              		.loc 1 240 53 is_stmt 0 view .LVU169
 598 01d4 3B4A     		ldr	r2, .L92+56
 240:Src/gps.c     ****                         gpsSol.groundCourse = gps_Msg.ground_course;
 599              		.loc 1 240 44 view .LVU170
 600 01d6 3C4B     		ldr	r3, .L92+60
 601 01d8 108A     		ldrh	r0, [r2, #16]
 241:Src/gps.c     ****                         break;
 602              		.loc 1 241 45 view .LVU171
 603 01da 928A     		ldrh	r2, [r2, #20]
 240:Src/gps.c     ****                         gpsSol.groundCourse = gps_Msg.ground_course;
 604              		.loc 1 240 44 view .LVU172
 605 01dc 9881     		strh	r0, [r3, #12]	@ movhi
 241:Src/gps.c     ****                         break;
 606              		.loc 1 241 25 is_stmt 1 view .LVU173
 241:Src/gps.c     ****                         break;
 607              		.loc 1 241 45 is_stmt 0 view .LVU174
 608 01de DA81     		strh	r2, [r3, #14]	@ movhi
 242:Src/gps.c     ****                     } // end switch
 609              		.loc 1 242 25 is_stmt 1 view .LVU175
 610 01e0 6AE7     		b	.L67
 611              	.L89:
 242:Src/gps.c     ****                     } // end switch
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 18


 612              		.loc 1 242 25 is_stmt 0 view .LVU176
 613              	.LBE9:
 181:Src/gps.c     ****                         break;
 614              		.loc 1 181 21 is_stmt 1 view .LVU177
 181:Src/gps.c     ****                         break;
 615              		.loc 1 181 24 is_stmt 0 view .LVU178
 616 01e2 A7D9     		bls	.L41
 184:Src/gps.c     ****                     svSatNum    = svPacketIdx + (4 * (svMessageNum - 1)); // global satellite numbe
 617              		.loc 1 184 21 is_stmt 1 view .LVU179
 185:Src/gps.c     ****                     svSatParam  = param - 3 - (4 * (svPacketIdx - 1)); // parameter number for sate
 618              		.loc 1 185 47 is_stmt 0 view .LVU180
 619 01e4 394A     		ldr	r2, .L92+64
 184:Src/gps.c     ****                     svSatNum    = svPacketIdx + (4 * (svMessageNum - 1)); // global satellite numbe
 620              		.loc 1 184 42 view .LVU181
 621 01e6 2B1F     		subs	r3, r5, #4
 185:Src/gps.c     ****                     svSatParam  = param - 3 - (4 * (svPacketIdx - 1)); // parameter number for sate
 622              		.loc 1 185 47 view .LVU182
 623 01e8 1678     		ldrb	r6, [r2]	@ zero_extendqisi2
 184:Src/gps.c     ****                     svSatNum    = svPacketIdx + (4 * (svMessageNum - 1)); // global satellite numbe
 624              		.loc 1 184 51 view .LVU183
 625 01ea C3F38703 		ubfx	r3, r3, #2, #8
 626              	.LVL39:
 185:Src/gps.c     ****                     svSatParam  = param - 3 - (4 * (svPacketIdx - 1)); // parameter number for sate
 627              		.loc 1 185 21 is_stmt 1 view .LVU184
 185:Src/gps.c     ****                     svSatParam  = param - 3 - (4 * (svPacketIdx - 1)); // parameter number for sate
 628              		.loc 1 185 33 is_stmt 0 view .LVU185
 629 01ee 03EB8606 		add	r6, r3, r6, lsl #2
 630 01f2 FD36     		adds	r6, r6, #253
 631 01f4 F6B2     		uxtb	r6, r6
 632              	.LVL40:
 186:Src/gps.c     **** 
 633              		.loc 1 186 21 is_stmt 1 view .LVU186
 188:Src/gps.c     ****                         break;
 634              		.loc 1 188 21 view .LVU187
 188:Src/gps.c     ****                         break;
 635              		.loc 1 188 24 is_stmt 0 view .LVU188
 636 01f6 102E     		cmp	r6, #16
 637 01f8 9CD8     		bhi	.L41
 191:Src/gps.c     ****                         case 1:
 638              		.loc 1 191 21 is_stmt 1 view .LVU189
 186:Src/gps.c     **** 
 639              		.loc 1 186 33 is_stmt 0 view .LVU190
 640 01fa EA1E     		subs	r2, r5, #3
 641 01fc A2EB8303 		sub	r3, r2, r3, lsl #2
 642              	.LVL41:
 186:Src/gps.c     **** 
 643              		.loc 1 186 33 view .LVU191
 644 0200 03F0FF03 		and	r3, r3, #255
 645 0204 012B     		cmp	r3, #1
 646 0206 00F0B180 		beq	.L62
 647 020a 042B     		cmp	r3, #4
 648 020c 08D1     		bne	.L64
 205:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 649              		.loc 1 205 29 is_stmt 1 view .LVU192
 205:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 650              		.loc 1 205 60 is_stmt 0 view .LVU193
 651 020e 4846     		mov	r0, r9
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 19


 652 0210 FFF7FEFF 		bl	grab_fields.constprop.0
 653              	.LVL42:
 205:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 654              		.loc 1 205 58 view .LVU194
 655 0214 2E4A     		ldr	r2, .L92+68
 206:Src/gps.c     ****                             break;
 656              		.loc 1 206 62 view .LVU195
 657 0216 2F4B     		ldr	r3, .L92+72
 205:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 658              		.loc 1 205 53 view .LVU196
 659 0218 013E     		subs	r6, r6, #1
 660              	.LVL43:
 205:Src/gps.c     ****                             GPS_svinfo_quality[svSatNum - 1] = 0; // only used by ublox
 661              		.loc 1 205 58 view .LVU197
 662 021a 9055     		strb	r0, [r2, r6]
 206:Src/gps.c     ****                             break;
 663              		.loc 1 206 29 is_stmt 1 view .LVU198
 206:Src/gps.c     ****                             break;
 664              		.loc 1 206 62 is_stmt 0 view .LVU199
 665 021c 03F80690 		strb	r9, [r3, r6]
 207:Src/gps.c     ****                     }
 666              		.loc 1 207 29 is_stmt 1 view .LVU200
 667              	.LVL44:
 668              	.L64:
 210:Src/gps.c     **** 
 669              		.loc 1 210 21 view .LVU201
 210:Src/gps.c     **** 
 670              		.loc 1 210 44 is_stmt 0 view .LVU202
 671 0220 2D4A     		ldr	r2, .L92+76
 672 0222 1368     		ldr	r3, [r2]
 673 0224 0133     		adds	r3, r3, #1
 674 0226 1360     		str	r3, [r2]
 212:Src/gps.c     ****             }
 675              		.loc 1 212 21 is_stmt 1 view .LVU203
 676 0228 84E7     		b	.L41
 677              	.LVL45:
 678              	.L59:
 175:Src/gps.c     ****                             break;
 679              		.loc 1 175 29 view .LVU204
 175:Src/gps.c     ****                             break;
 680              		.loc 1 175 44 is_stmt 0 view .LVU205
 681 022a 4846     		mov	r0, r9
 682 022c FFF7FEFF 		bl	grab_fields.constprop.0
 683              	.LVL46:
 175:Src/gps.c     ****                             break;
 684              		.loc 1 175 42 view .LVU206
 685 0230 264B     		ldr	r3, .L92+64
 686 0232 1870     		strb	r0, [r3]
 176:Src/gps.c     ****                         case 3:
 687              		.loc 1 176 29 is_stmt 1 view .LVU207
 688 0234 7EE7     		b	.L41
 689              	.L54:
 165:Src/gps.c     ****                             break;
 690              		.loc 1 165 29 view .LVU208
 165:Src/gps.c     ****                             break;
 691              		.loc 1 165 44 is_stmt 0 view .LVU209
 692 0236 0020     		movs	r0, #0
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 20


 693 0238 FFF7FEFF 		bl	grab_fields.constprop.0
 694              	.LVL47:
 165:Src/gps.c     ****                             break;
 695              		.loc 1 165 42 view .LVU210
 696 023c 214B     		ldr	r3, .L92+56
 697 023e D861     		str	r0, [r3, #28]
 166:Src/gps.c     ****                     }
 698              		.loc 1 166 29 is_stmt 1 view .LVU211
 699 0240 78E7     		b	.L41
 700              	.L56:
 162:Src/gps.c     ****                             break;
 701              		.loc 1 162 29 view .LVU212
 162:Src/gps.c     ****                             break;
 702              		.loc 1 162 54 is_stmt 0 view .LVU213
 703 0242 0120     		movs	r0, #1
 704 0244 FFF7FEFF 		bl	grab_fields.constprop.0
 705              	.LVL48:
 162:Src/gps.c     ****                             break;
 706              		.loc 1 162 51 view .LVU214
 707 0248 1E4B     		ldr	r3, .L92+56
 708 024a 9882     		strh	r0, [r3, #20]	@ movhi
 163:Src/gps.c     ****                         case 9:
 709              		.loc 1 163 29 is_stmt 1 view .LVU215
 710 024c 72E7     		b	.L41
 711              	.L57:
 159:Src/gps.c     ****                             break;
 712              		.loc 1 159 29 view .LVU216
 159:Src/gps.c     ****                             break;
 713              		.loc 1 159 47 is_stmt 0 view .LVU217
 714 024e 0120     		movs	r0, #1
 715 0250 FFF7FEFF 		bl	grab_fields.constprop.0
 716              	.LVL49:
 159:Src/gps.c     ****                             break;
 717              		.loc 1 159 70 view .LVU218
 718 0254 41F21843 		movw	r3, #5144
 719 0258 03FB00F3 		mul	r3, r3, r0
 159:Src/gps.c     ****                             break;
 720              		.loc 1 159 79 view .LVU219
 721 025c 1F49     		ldr	r1, .L92+80
 159:Src/gps.c     ****                             break;
 722              		.loc 1 159 43 view .LVU220
 723 025e 194A     		ldr	r2, .L92+56
 159:Src/gps.c     ****                             break;
 724              		.loc 1 159 79 view .LVU221
 725 0260 A1FB0313 		umull	r1, r3, r1, r3
 726 0264 9B09     		lsrs	r3, r3, #6
 159:Src/gps.c     ****                             break;
 727              		.loc 1 159 43 view .LVU222
 728 0266 1382     		strh	r3, [r2, #16]	@ movhi
 160:Src/gps.c     ****                         case 8:
 729              		.loc 1 160 29 is_stmt 1 view .LVU223
 730 0268 64E7     		b	.L41
 731              	.L58:
 155:Src/gps.c     ****                             time = grab_fields(string, 2);
 732              		.loc 1 155 29 view .LVU224
 155:Src/gps.c     ****                             time = grab_fields(string, 2);
 733              		.loc 1 155 44 is_stmt 0 view .LVU225
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 21


 734 026a 0220     		movs	r0, #2
 735 026c FFF7FEFF 		bl	grab_fields.constprop.0
 736              	.LVL50:
 155:Src/gps.c     ****                             time = grab_fields(string, 2);
 737              		.loc 1 155 42 view .LVU226
 738 0270 144B     		ldr	r3, .L92+56
 739 0272 9861     		str	r0, [r3, #24]
 156:Src/gps.c     ****                             break;
 740              		.loc 1 156 29 is_stmt 1 view .LVU227
 156:Src/gps.c     ****                             break;
 741              		.loc 1 156 36 is_stmt 0 view .LVU228
 742 0274 0220     		movs	r0, #2
 743 0276 FFF7FEFF 		bl	grab_fields.constprop.0
 744              	.LVL51:
 156:Src/gps.c     ****                             break;
 745              		.loc 1 156 34 view .LVU229
 746 027a 194B     		ldr	r3, .L92+84
 747 027c 1860     		str	r0, [r3]
 157:Src/gps.c     ****                         case 7:
 748              		.loc 1 157 29 is_stmt 1 view .LVU230
 749 027e 59E7     		b	.L41
 750              	.L49:
 142:Src/gps.c     ****                             break;
 751              		.loc 1 142 29 view .LVU231
 142:Src/gps.c     ****                             break;
 752              		.loc 1 142 46 is_stmt 0 view .LVU232
 753 0280 0020     		movs	r0, #0
 754 0282 FFF7FEFF 		bl	grab_fields.constprop.0
 755              	.LVL52:
 142:Src/gps.c     ****                             break;
 756              		.loc 1 142 44 view .LVU233
 757 0286 0F4B     		ldr	r3, .L92+56
 758 0288 1872     		strb	r0, [r3, #8]
 143:Src/gps.c     ****                         case 8:
 759              		.loc 1 143 29 is_stmt 1 view .LVU234
 760 028a 53E7     		b	.L41
 761              	.L93:
 762              		.align	2
 763              	.L92:
 764 028c 00000000 		.word	gpschar
 765 0290 00000000 		.word	.LANCHOR2
 766 0294 00000000 		.word	.LANCHOR0
 767 0298 00000000 		.word	.LANCHOR4
 768 029c 00000000 		.word	GPS_numCh
 769 02a0 00000000 		.word	.LANCHOR1
 770 02a4 00000000 		.word	.LANCHOR3
 771 02a8 00000000 		.word	.LANCHOR8
 772 02ac 00000000 		.word	.LC0
 773 02b0 08000000 		.word	.LC1
 774 02b4 10000000 		.word	.LC2
 775 02b8 18000000 		.word	.LC3
 776 02bc 20000000 		.word	.LC4
 777 02c0 00000000 		.word	.LANCHOR9
 778 02c4 00000000 		.word	.LANCHOR5
 779 02c8 00000000 		.word	gpsSol
 780 02cc 00000000 		.word	.LANCHOR6
 781 02d0 00000000 		.word	GPS_svinfo_cno
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 22


 782 02d4 00000000 		.word	GPS_svinfo_quality
 783 02d8 00000000 		.word	.LANCHOR7
 784 02dc D34D6210 		.word	274877907
 785 02e0 00000000 		.word	time
 786              	.L50:
 135:Src/gps.c     ****                                 GPS_FIX = 1;
 787              		.loc 1 135 29 view .LVU235
 135:Src/gps.c     ****                                 GPS_FIX = 1;
 788              		.loc 1 135 32 is_stmt 0 view .LVU236
 789 02e4 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 790 02e6 302B     		cmp	r3, #48
 136:Src/gps.c     ****                             } else {
 791              		.loc 1 136 33 is_stmt 1 view .LVU237
 136:Src/gps.c     ****                             } else {
 792              		.loc 1 136 41 is_stmt 0 view .LVU238
 793 02e8 8CBF     		ite	hi
 794 02ea 0122     		movhi	r2, #1
 138:Src/gps.c     ****                             }
 795              		.loc 1 138 33 is_stmt 1 view .LVU239
 138:Src/gps.c     ****                             }
 796              		.loc 1 138 41 is_stmt 0 view .LVU240
 797 02ec 0022     		movls	r2, #0
 798 02ee 254B     		ldr	r3, .L94
 799 02f0 1A70     		strb	r2, [r3]
 800 02f2 1FE7     		b	.L41
 801              	.L51:
 131:Src/gps.c     ****                                 gps_Msg.longitude *= -1;
 802              		.loc 1 131 29 is_stmt 1 view .LVU241
 131:Src/gps.c     ****                                 gps_Msg.longitude *= -1;
 803              		.loc 1 131 32 is_stmt 0 view .LVU242
 804 02f4 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 805 02f6 572B     		cmp	r3, #87
 806 02f8 7FF41CAF 		bne	.L41
 132:Src/gps.c     ****                             break;
 807              		.loc 1 132 33 is_stmt 1 view .LVU243
 132:Src/gps.c     ****                             break;
 808              		.loc 1 132 51 is_stmt 0 view .LVU244
 809 02fc 224A     		ldr	r2, .L94+4
 810 02fe 5368     		ldr	r3, [r2, #4]
 811 0300 5B42     		rsbs	r3, r3, #0
 812 0302 5360     		str	r3, [r2, #4]
 813 0304 16E7     		b	.L41
 814              	.L48:
 145:Src/gps.c     ****                             break;
 815              		.loc 1 145 29 is_stmt 1 view .LVU245
 145:Src/gps.c     ****                             break;
 816              		.loc 1 145 44 is_stmt 0 view .LVU246
 817 0306 0120     		movs	r0, #1
 818 0308 FFF7FEFF 		bl	grab_fields.constprop.0
 819              	.LVL53:
 145:Src/gps.c     ****                             break;
 820              		.loc 1 145 42 view .LVU247
 821 030c 00EB8000 		add	r0, r0, r0, lsl #2
 822 0310 00EB8000 		add	r0, r0, r0, lsl #2
 823 0314 1C4A     		ldr	r2, .L94+4
 824 0316 8300     		lsls	r3, r0, #2
 825 0318 5382     		strh	r3, [r2, #18]	@ movhi
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 23


 146:Src/gps.c     ****                         case 9:
 826              		.loc 1 146 29 is_stmt 1 view .LVU248
 827 031a 0BE7     		b	.L41
 828              	.L52:
 124:Src/gps.c     ****                                 gps_Msg.latitude *= -1;
 829              		.loc 1 124 29 view .LVU249
 124:Src/gps.c     ****                                 gps_Msg.latitude *= -1;
 830              		.loc 1 124 32 is_stmt 0 view .LVU250
 831 031c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 832 031e 532B     		cmp	r3, #83
 833 0320 7FF408AF 		bne	.L41
 125:Src/gps.c     ****                             break;
 834              		.loc 1 125 33 is_stmt 1 view .LVU251
 125:Src/gps.c     ****                             break;
 835              		.loc 1 125 50 is_stmt 0 view .LVU252
 836 0324 184A     		ldr	r2, .L94+4
 837 0326 1368     		ldr	r3, [r2]
 838 0328 5B42     		rsbs	r3, r3, #0
 839 032a 1360     		str	r3, [r2]
 840 032c 02E7     		b	.L41
 841              	.L46:
 148:Src/gps.c     ****                             break;
 842              		.loc 1 148 29 is_stmt 1 view .LVU253
 148:Src/gps.c     ****                             break;
 843              		.loc 1 148 50 is_stmt 0 view .LVU254
 844 032e 0120     		movs	r0, #1
 845 0330 FFF7FEFF 		bl	grab_fields.constprop.0
 846              	.LVL54:
 148:Src/gps.c     ****                             break;
 847              		.loc 1 148 48 view .LVU255
 848 0334 144A     		ldr	r2, .L94+4
 148:Src/gps.c     ****                             break;
 849              		.loc 1 148 73 view .LVU256
 850 0336 00EB8000 		add	r0, r0, r0, lsl #2
 851 033a 4000     		lsls	r0, r0, #1
 148:Src/gps.c     ****                             break;
 852              		.loc 1 148 48 view .LVU257
 853 033c D060     		str	r0, [r2, #12]
 149:Src/gps.c     ****                     }
 854              		.loc 1 149 29 is_stmt 1 view .LVU258
 855 033e F9E6     		b	.L41
 856              	.L38:
 109:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPGSV")) {
 857              		.loc 1 109 21 view .LVU259
 109:Src/gps.c     ****                 } else if (0 == strcmp(string, "GPGSV")) {
 858              		.loc 1 109 31 is_stmt 0 view .LVU260
 859 0340 0223     		movs	r3, #2
 860 0342 89F80030 		strb	r3, [r9]
 115:Src/gps.c     ****                 case FRAME_GGA:        //************* GPGGA FRAME parsing
 861              		.loc 1 115 13 is_stmt 1 view .LVU261
 153:Src/gps.c     ****                         case 1:
 862              		.loc 1 153 21 view .LVU262
 863 0346 F5E6     		b	.L41
 864              	.L73:
 865              	.LBB10:
 230:Src/gps.c     ****                       if (GPS_FIX == 1) {
 866              		.loc 1 230 23 view .LVU263
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 24


 867              	.LVL55:
 231:Src/gps.c     ****                             gpsSol.llh.lat = gps_Msg.latitude;
 868              		.loc 1 231 23 view .LVU264
 231:Src/gps.c     ****                             gpsSol.llh.lat = gps_Msg.latitude;
 869              		.loc 1 231 35 is_stmt 0 view .LVU265
 870 0348 0E4B     		ldr	r3, .L94
 231:Src/gps.c     ****                             gpsSol.llh.lat = gps_Msg.latitude;
 871              		.loc 1 231 26 view .LVU266
 872 034a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 873 034c 002B     		cmp	r3, #0
 874 034e 3FF4B3AE 		beq	.L67
 232:Src/gps.c     ****                             gpsSol.llh.lon = gps_Msg.longitude;
 875              		.loc 1 232 29 is_stmt 1 view .LVU267
 232:Src/gps.c     ****                             gpsSol.llh.lon = gps_Msg.longitude;
 876              		.loc 1 232 44 is_stmt 0 view .LVU268
 877 0352 0E4B     		ldr	r3, .L94+8
 232:Src/gps.c     ****                             gpsSol.llh.lon = gps_Msg.longitude;
 878              		.loc 1 232 53 view .LVU269
 879 0354 0C4A     		ldr	r2, .L94+4
 233:Src/gps.c     ****                             gpsSol.numSat = gps_Msg.numSat;
 880              		.loc 1 233 44 view .LVU270
 881 0356 D2E90005 		ldrd	r0, r5, [r2]
 234:Src/gps.c     ****                             gpsSol.llh.altCm = gps_Msg.altitudeCm;
 882              		.loc 1 234 43 view .LVU271
 883 035a 147A     		ldrb	r4, [r2, #8]	@ zero_extendqisi2
 884              	.LVL56:
 232:Src/gps.c     ****                             gpsSol.llh.lon = gps_Msg.longitude;
 885              		.loc 1 232 44 view .LVU272
 886 035c 1860     		str	r0, [r3]
 233:Src/gps.c     ****                             gpsSol.numSat = gps_Msg.numSat;
 887              		.loc 1 233 29 is_stmt 1 view .LVU273
 235:Src/gps.c     ****                             gpsSol.hdop = gps_Msg.hdop;
 888              		.loc 1 235 46 is_stmt 0 view .LVU274
 889 035e D068     		ldr	r0, [r2, #12]
 236:Src/gps.c     ****                         }
 890              		.loc 1 236 41 view .LVU275
 891 0360 528A     		ldrh	r2, [r2, #18]
 233:Src/gps.c     ****                             gpsSol.numSat = gps_Msg.numSat;
 892              		.loc 1 233 44 view .LVU276
 893 0362 5D60     		str	r5, [r3, #4]
 234:Src/gps.c     ****                             gpsSol.llh.altCm = gps_Msg.altitudeCm;
 894              		.loc 1 234 29 is_stmt 1 view .LVU277
 234:Src/gps.c     ****                             gpsSol.llh.altCm = gps_Msg.altitudeCm;
 895              		.loc 1 234 43 is_stmt 0 view .LVU278
 896 0364 9C74     		strb	r4, [r3, #18]
 235:Src/gps.c     ****                             gpsSol.hdop = gps_Msg.hdop;
 897              		.loc 1 235 29 is_stmt 1 view .LVU279
 235:Src/gps.c     ****                             gpsSol.hdop = gps_Msg.hdop;
 898              		.loc 1 235 46 is_stmt 0 view .LVU280
 899 0366 9860     		str	r0, [r3, #8]
 236:Src/gps.c     ****                         }
 900              		.loc 1 236 29 is_stmt 1 view .LVU281
 236:Src/gps.c     ****                         }
 901              		.loc 1 236 41 is_stmt 0 view .LVU282
 902 0368 1A82     		strh	r2, [r3, #16]	@ movhi
 903 036a A5E6     		b	.L67
 904              	.LVL57:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 25


 905              	.L62:
 236:Src/gps.c     ****                         }
 906              		.loc 1 236 41 view .LVU283
 907              	.LBE10:
 194:Src/gps.c     ****                             GPS_svinfo_svid[svSatNum - 1] = grab_fields(string, 0);
 908              		.loc 1 194 29 is_stmt 1 view .LVU284
 194:Src/gps.c     ****                             GPS_svinfo_svid[svSatNum - 1] = grab_fields(string, 0);
 909              		.loc 1 194 59 is_stmt 0 view .LVU285
 910 036c 084B     		ldr	r3, .L94+12
 195:Src/gps.c     ****                             break;
 911              		.loc 1 195 61 view .LVU286
 912 036e 4846     		mov	r0, r9
 194:Src/gps.c     ****                             GPS_svinfo_svid[svSatNum - 1] = grab_fields(string, 0);
 913              		.loc 1 194 53 view .LVU287
 914 0370 06F1FF39 		add	r9, r6, #-1
 194:Src/gps.c     ****                             GPS_svinfo_svid[svSatNum - 1] = grab_fields(string, 0);
 915              		.loc 1 194 59 view .LVU288
 916 0374 03F80960 		strb	r6, [r3, r9]
 195:Src/gps.c     ****                             break;
 917              		.loc 1 195 29 is_stmt 1 view .LVU289
 195:Src/gps.c     ****                             break;
 918              		.loc 1 195 61 is_stmt 0 view .LVU290
 919 0378 FFF7FEFF 		bl	grab_fields.constprop.0
 920              	.LVL58:
 195:Src/gps.c     ****                             break;
 921              		.loc 1 195 59 view .LVU291
 922 037c 054B     		ldr	r3, .L94+16
 923 037e 03F80900 		strb	r0, [r3, r9]
 196:Src/gps.c     ****                         // case 2:
 924              		.loc 1 196 29 is_stmt 1 view .LVU292
 925 0382 4DE7     		b	.L64
 926              	.L95:
 927              		.align	2
 928              	.L94:
 929 0384 00000000 		.word	GPS_FIX
 930 0388 00000000 		.word	.LANCHOR5
 931 038c 00000000 		.word	gpsSol
 932 0390 00000000 		.word	GPS_svinfo_chn
 933 0394 00000000 		.word	GPS_svinfo_svid
 934              	.LBE14:
 935              	.LBE18:
 936              		.cfi_endproc
 937              	.LFE528:
 939              		.comm	GPS_svinfo_cno,16,4
 940              		.comm	GPS_svinfo_quality,16,4
 941              		.comm	GPS_svinfo_svid,16,4
 942              		.comm	GPS_svinfo_chn,16,4
 943              		.comm	GPS_numCh,1,1
 944              		.global	GPS_update
 945              		.global	GPS_svInfoReceivedCount
 946              		.global	GPS_packetCount
 947              		.comm	gpsSol,20,4
 948              		.comm	GPS_FIX,1,1
 949              		.section	.bss.GPS_packetCount,"aw",%nobits
 950              		.align	2
 951              		.set	.LANCHOR9,. + 0
 954              	GPS_packetCount:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 26


 955 0000 00000000 		.space	4
 956              		.section	.bss.GPS_svInfoReceivedCount,"aw",%nobits
 957              		.align	2
 958              		.set	.LANCHOR7,. + 0
 961              	GPS_svInfoReceivedCount:
 962 0000 00000000 		.space	4
 963              		.section	.bss.GPS_update,"aw",%nobits
 966              	GPS_update:
 967 0000 00       		.space	1
 968              		.section	.bss.checksum_param.9103,"aw",%nobits
 969              		.set	.LANCHOR8,. + 0
 972              	checksum_param.9103:
 973 0000 00       		.space	1
 974              		.section	.bss.gps_Msg.9097,"aw",%nobits
 975              		.align	2
 976              		.set	.LANCHOR5,. + 0
 979              	gps_Msg.9097:
 980 0000 00000000 		.space	32
 980      00000000 
 980      00000000 
 980      00000000 
 980      00000000 
 981              		.section	.bss.gps_frame.9104,"aw",%nobits
 982              		.set	.LANCHOR4,. + 0
 985              	gps_frame.9104:
 986 0000 00       		.space	1
 987              		.section	.bss.offset.9100,"aw",%nobits
 988              		.set	.LANCHOR2,. + 0
 991              	offset.9100:
 992 0000 00       		.space	1
 993              		.section	.bss.param.9099,"aw",%nobits
 994              		.set	.LANCHOR1,. + 0
 997              	param.9099:
 998 0000 00       		.space	1
 999              		.section	.bss.parity.9101,"aw",%nobits
 1000              		.set	.LANCHOR3,. + 0
 1003              	parity.9101:
 1004 0000 00       		.space	1
 1005              		.section	.bss.string.9102,"aw",%nobits
 1006              		.align	2
 1007              		.set	.LANCHOR0,. + 0
 1010              	string.9102:
 1011 0000 00000000 		.space	15
 1011      00000000 
 1011      00000000 
 1011      000000
 1012              		.section	.bss.svMessageNum.9105,"aw",%nobits
 1013              		.set	.LANCHOR6,. + 0
 1016              	svMessageNum.9105:
 1017 0000 00       		.space	1
 1018              		.section	.rodata.gpsUpdate.str1.4,"aMS",%progbits,1
 1019              		.align	2
 1020              	.LC0:
 1021 0000 47504747 		.ascii	"GPGGA\000"
 1021      4100
 1022 0006 0000     		.space	2
 1023              	.LC1:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 27


 1024 0008 474E4747 		.ascii	"GNGGA\000"
 1024      4100
 1025 000e 0000     		.space	2
 1026              	.LC2:
 1027 0010 4750524D 		.ascii	"GPRMC\000"
 1027      4300
 1028 0016 0000     		.space	2
 1029              	.LC3:
 1030 0018 474E524D 		.ascii	"GNRMC\000"
 1030      4300
 1031 001e 0000     		.space	2
 1032              	.LC4:
 1033 0020 47504753 		.ascii	"GPGSV\000"
 1033      5600
 1034              		.text
 1035              	.Letext0:
 1036              		.file 2 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 1037              		.file 3 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 1038              		.file 4 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\lock.h"
 1039              		.file 5 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_types.h"
 1040              		.file 6 "d:\\vsarm\\armcc\\lib\\gcc\\arm-none-eabi\\8.2.1\\include\\stddef.h"
 1041              		.file 7 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\reent.h"
 1042              		.file 8 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\ctype.h"
 1043              		.file 9 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\math.h"
 1044              		.file 10 "Drivers/CMSIS/Include/core_cm3.h"
 1045              		.file 11 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 1046              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1047              		.file 13 "Inc/gps.h"
 1048              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_dma.h"
 1049              		.file 15 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\string.h"
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 gps.c
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:16     .text.grab_fields.constprop.0:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:24     .text.grab_fields.constprop.0:0000000000000000 grab_fields.constprop.0
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:171    .text.grab_fields.constprop.0:0000000000000068 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:176    .text.gpsUpdate:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:184    .text.gpsUpdate:0000000000000000 gpsUpdate
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:224    .text.gpsUpdate:0000000000000014 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:534    .text.gpsUpdate:0000000000000160 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:542    .text.gpsUpdate:000000000000017c $t
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:567    .text.gpsUpdate:0000000000000198 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:576    .text.gpsUpdate:00000000000001bc $t
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:764    .text.gpsUpdate:000000000000028c $d
                            *COM*:0000000000000001 GPS_numCh
                            *COM*:0000000000000014 gpsSol
                            *COM*:0000000000000010 GPS_svinfo_cno
                            *COM*:0000000000000010 GPS_svinfo_quality
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:789    .text.gpsUpdate:00000000000002e4 $t
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:929    .text.gpsUpdate:0000000000000384 $d
                            *COM*:0000000000000001 GPS_FIX
                            *COM*:0000000000000010 GPS_svinfo_chn
                            *COM*:0000000000000010 GPS_svinfo_svid
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:966    .bss.GPS_update:0000000000000000 GPS_update
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:961    .bss.GPS_svInfoReceivedCount:0000000000000000 GPS_svInfoReceivedCount
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:954    .bss.GPS_packetCount:0000000000000000 GPS_packetCount
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:950    .bss.GPS_packetCount:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:957    .bss.GPS_svInfoReceivedCount:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:967    .bss.GPS_update:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:972    .bss.checksum_param.9103:0000000000000000 checksum_param.9103
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:973    .bss.checksum_param.9103:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:975    .bss.gps_Msg.9097:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:979    .bss.gps_Msg.9097:0000000000000000 gps_Msg.9097
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:985    .bss.gps_frame.9104:0000000000000000 gps_frame.9104
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:986    .bss.gps_frame.9104:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:991    .bss.offset.9100:0000000000000000 offset.9100
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:992    .bss.offset.9100:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:997    .bss.param.9099:0000000000000000 param.9099
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:998    .bss.param.9099:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1003   .bss.parity.9101:0000000000000000 parity.9101
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1004   .bss.parity.9101:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1006   .bss.string.9102:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1010   .bss.string.9102:0000000000000000 string.9102
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1016   .bss.svMessageNum.9105:0000000000000000 svMessageNum.9105
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1017   .bss.svMessageNum.9105:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:1019   .rodata.gpsUpdate.str1.4:0000000000000000 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:259    .text.gpsUpdate:0000000000000037 $d
C:\Users\Eemeli\AppData\Local\Temp\ccVZb4RW.s:259    .text.gpsUpdate:0000000000000038 $t

UNDEFINED SYMBOLS
strcmp
gpschar
time
